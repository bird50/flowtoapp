{%extends "_blank.html"%}
{%block js%}
{{super()}}
<script src="js/angular-file-upload.min.js"></script>
{%endblock%}
{%block body_tag%} ng-app="flowtong" ng-controller="LoginCtrl" ng-cloak{%endblock%}
{%block content%}
<div layout="column" flex layout-fill>
{%verbatim%}
<md-fab-speed-dial md-open="demo.isOpen" md-direction="up" class="md-fling md-fab-bottom-right">
	<md-fab-trigger>
		<md-button aria-label="menu" class="md-fab md-warn ">
			<img style="height:24px;width:24px;" src="images/menu_l.png">
		</md-button>
	</md-fab-trigger>
	<md-fab-actions>
	<md-button class="md-accent md-fab"  ng-click="CreateAssignmentForm($event)" href="#"><img style="height:24px;width:24px;" aria-label="Create Assignment" src="images/ic_add_black_24dp_2x.png"></md-button>
	<md-button class="md-accent md-fab " aria-label="Take a Flowto" ng-click="null" href="#"><a href="preview.html"><img style="height:24px;width:24px;" src="images/ic_camera_alt_black_48dp.png"></a></md-button>
	</md-fab-actions>
</md-fab-speed-dial>
						 <!--
<md-button class="md-warn md-fab md-fab-top-right"  ng-click="null" href="#"><img style="height:24px;width:24px;" src="images/ic_add_black_24dp_2x.png"></md-button>
<md-button class="md-warn md-fab md-fab-bottom-right"  ng-click="null" href="#"><img style="height:24px;width:24px;" src="images/menu_l.png"></md-button>
-->

<md-toolbar md-scroll-shrink>
	<div class="md-toolbar-tools" layout="row" layout-padding layout-fill layout-align="center center">
			<md-button ng-click="click_back();"><strong>FLOWTO</strong></md-button>
			<md-input-container flex layout="column" style="margin:-20px 0px 0px 0px;">
				<label class="md-caption">filter</label>
				<input  name="searchText" ng-model="searchText" class="md-caption"/>
			</md-input-container>
			<span flex></span>
			<span ng-if="u.avatar.length==1"><a href="./profile.html"><ng-avatar bind="true" initials="{{u.avatar}}" bg-color="purple"  round-shape="true" auto-color="true" font-weight="700" style="vertical-align:middle;" width="36"></ng-avatar></a></span><span>{{u.username}}</span>
	</div>
</md-toolbar>
{%endverbatim%}
<md-content flex>

<section>
	{%verbatim%}
	<md-subheader class="md-accent" layout="column">
	<div layout="row" layout-wrap layout-fill layout-padding>
		<div class="md-primary"  layout="row" layout-padding>
			<span class="md-body-1">selected assignment:</span>
			<span class="md-body-2" >{{assignmentName}}</span>
		</div>
		<span flex></span>
	</div>
	</md-subheader>
	{%endverbatim%}
{%verbatim%}
	<md-list >
		<md-list-item class="md-2-line" ng-repeat="item in assignments|filter:searchText as filtered" >
		<md-divider></md-divider>
		<div layout="row" layout-wrap layout-fill layout-align="cente center"><!--cover-->
		<!--first-->
		<div flex-gt-xs="70" flex="100"  layout="row" layout-align="left center" layout-fill>
		<img ng-if="item.avatar;" ng-src="{{item.avatar}}" class="md-avatar" alt="{{item.assignmentName}}" style="width:24px;height:24px;"/>
	   <div class="md-list-item-text" layout="column" flex layout-fill layout-align="center left">
		   <h3>{{ item.assignmentName }}</h3>
		   <p>{{item.id}}:{{ item.description }}</p>
	   </div>
       </div>
	   <!--endfirst-->
	   <!--second-->
	   <div  class="md-second" flex-gt-xs="30" flex="100"  layout="row" layout-align="right center" layout-padding layout-fill>
		   <div flex ></div>
		   <div style="color:#b6b2b7;">by</div>
	   <div ng-if="item.flowtoUser.avatar.length==1" style="color:#fff;font-size:20px;background-color:#7b099b;height:24px;width:24px;
  line-height:24px;text-align:center;border:2px solid #b9bfc9;" class="md-avatar ">{{item.flowtoUser.avatar}}</div> 
		<span  href="#" style="overflow:hidden;text-overflow: ellipsis; max-width: 200px;">{{item.flowtoUser.username}}</span>
		<md-button class="md-icon-button md-warn" aria-label="More"
			ng-click="showListBottomSheet(item.id,item.assignmentName);">
          <img src="images/more_vert_black_48x48.png" style="width:24px;height:24px;"/>
        </md-button>
	</div><!--endsecond-->
		</div><!--cover-->
		<md-divider></md-divider>
		</md-list-item>
	</md-list>

	</section>
	</md-content>
	<div flex="5" class="md-accent" style="background-color:#f9f8f7;" layout="row" layout-align="right center" layout-padding><span>Total : {{filtered.length}}</span><span flex></span><small style="color:#abacad;">Flowto:bata version</small><span flex="20"></span></div>
</div>
{%endverbatim%}
{%endblock%}

{%block js_end%}
{%verbatim%}
<script type="text/ng-template" id="bottom-sheet-list-template.html">
<md-bottom-sheet class="md-list md-has-header md-primary">
  <md-subheader ng-cloak md-warn><span class="md-warn">Actions</span></md-subheader>
  <md-list ng-cloak>
    <md-list-item ng-repeat="item in items">
      <md-button 
          ng-click="listItemClick($index)"
          md-autofocus="$index == 2"
          class="md-list-item-content md-accend md-raised" >
        <md-icon md-svg-src="{{item.icon}}"></md-icon>
        <span class="md-inline-list-icon-label md-primary">{{ item.name }}</span>
      </md-button>
    </md-list-item>
  </md-list>
</md-bottom-sheet>
</script>

<script type="text/ng-template" id="createAssignment.tmpl.html">
<md-dialog aria-label="FLOWTO">
  <form ng-cloak>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h4>Create an Assignment</h4>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <md-icon md-svg-src="images/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
        </md-button>
      </div>
    </md-toolbar>
		   
	
    <md-dialog-content>
      <div class="md-dialog-content" layout="column">
		  <md-input-container class="md-block" flex-gt-sm>
            <label>Assignment</label>
            <input ng-model="new_assignment.assignmentName">
          </md-input-container>
		  <md-input-container class="md-block">
		  	<label>Description</label>
			<textarea ng-model="new_assignment.description" rows="5" md-select-on-focus></textarea>
		  </md-input-container>
 		   <md-slider-container layout="column" layout-align="center center">
 		  <label>Important Rate</label>
 		  <md-slider flex class="md-accent" ng-model="new_assignment.priority" step="1" min="1" max="5" aria-label="rating">
		  </md-slider-container>
     </div>
    </md-dialog-content>

    <md-dialog-actions layout="row">
      <span flex></span>
      <md-button ng-click="cancel()">
        Cancel
      </md-button>
      <md-button ng-click="createAssignment()">
       Create
      </md-button>
      
    </md-dialog-actions>
  </form>
</md-dialog>
</script>
{%endverbatim%}
{%endblock%}

